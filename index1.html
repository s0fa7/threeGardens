<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <title>3 —Å–∞–¥–∞</title>
    <link rel="stylesheet" href="/src/assets/css/app.css" />
    <style>
        .fade-in {
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
        }

        .fade-in.show {
            opacity: 1;
        }
    </style>
</head>

<body>
    <header class="header" id="mainHeader">
        <div class="header-content header-main-path" id="headerContent">
            <nav class="nav animation">
                <ul>
                    <li><a href="">–£—Å–ª—É–≥–∏</a></li>
                    <li><a href="">–ü—Ä–∞–π—Å-–ª–∏—Å—Ç</a></li>
                    <li><a href="">–ü—Ä–æ–µ–∫—Ç—ã</a></li>
                    <li><a href="">–û –∫–æ–º–ø–∞–Ω–∏–∏</a></li>
                    <li><a href="">–ü–∞—Ä—Ç–Ω–µ—Ä–∞–º</a></li>
                    <li><a href="">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                </ul>
            </nav>

            <a href="/" class="logo">
                <img src="/src/assets/icons/logoVector.svg" alt="–õ–æ–≥–æ—Ç–∏–ø —Å–∞–π—Ç–∞" />
            </a>

            <div class="info-nav animation">
                <a href="" class="plants-catalog">
                    <span>–ö–∞—Ç–∞–ª–æ–≥ —Ä–∞—Å—Ç–µ–Ω–∏–π</span>
                    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 20 20">
                        <use href="/src/assets/icons/sprite.svg#dots"></use>
                    </svg>
                </a>
                <button type="button" class="btn application-btn">
                    <span>–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</span>
                    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 20 20">
                        <use href="/src/assets/icons/sprite.svg#arrow-right"></use>
                    </svg>
                </button>
                <a href="tel:8800219333">8 800 219 333</a>
                </ul>
            </div>
        </div>
    </header>
    <section>
        <div class="main-section">
            <div class="main-section-title">
                <p class="animation delay1">–í–º–µ—Å—Ç–µ –º—ã –≤–æ–ø–ª–æ—Ç–∏–º –≤–∞—à—É –º–µ—á—Ç—É –≤ –ø—Ä–æ–µ–∫—Ç</p>
                <div class="animation">
                    <h2>
                        –î–µ–ª–∞–µ–º –≤–∞—à—É –∂–∏–∑–Ω—å –∫–æ–º—Ñ–æ—Ä—Ç–Ω–µ–µ –±–ª–∞–≥–æ–¥–∞—Ä—è</h2>
                    <div class="white-bg-tag">–æ–∑–µ–ª–µ–Ω–µ–Ω–∏—é</div>
                </div>

            </div>
            <div class="main-section-img animation">
                <img class="fade-in show" src="/src/assets/images/main/tree-main1.png" />
            </div>
            <div class="main-section-right-side">
                <div class="main-section-navigation">
                    <div class="main-section-navigation-container animation">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="main-section-navigation-icon hidden-navigation-decorative" aria-hidden="true"
                            viewBox="0 0 14 14">
                            <use href="/src/assets/icons/sprite.svg#sheet"></use>
                        </svg>
                        <div class="main-section-navigation__element hidden-navigation-decorative">
                            <div class="main-section-navigation__element-title">
                                <h4>01 —Å–∞–¥ —é–Ω–æ—Å—Ç–∏</h4>
                                <img class="hidden" src="/src/assets/icons/arrow-right.svg" alt="—Å—Ç—Ä–µ–ª–∫–∞ " />
                            </div>
                            <div class="hidden">
                                <p>–∏–¥–µ–∞–ª—å–Ω—ã–π —Å–∞–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∏–¥–µ–∏</p>
                                <div class="main-section-navigation__element-img-container">
                                    <img src="/src/assets/images/main/photo-1.png" alt="—Å–∞–¥-1" />
                                    <img src="/src/assets/images/main/photo-2.png" alt="—Å–∞–¥-2" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="main-section-navigation-container animation delay1">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="main-section-navigation-icon hidden-navigation-decorative" aria-hidden="true"
                            viewBox="0 0 18 20">
                            <use href="/src/assets/icons/sprite.svg#flower"></use>
                        </svg>
                        <div class="main-section-navigation__element hidden-navigation-decorative">
                            <div class="main-section-navigation__element-title">
                                <h4>02 –°–∞–¥ –∑—Ä–µ–ª–æ—Å—Ç–∏</h4>
                                <img class="hidden" src="/src/assets/icons/arrow-right.svg" alt="—Å—Ç—Ä–µ–ª–∫–∞" />
                            </div>
                            <div class="hidden">
                                <p>–°–∞–¥ –æ–∂–∏–≤–∞–µ—Ç –±–ª–∞–≥–æ–¥–∞—Ä—è –Ω–∞—à–µ–º—É –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º—É –∏ –≤–Ω–∏–º–∞–Ω–∏—é
                                    –∫ –∫–∞–∂–¥–æ–π –¥–µ—Ç–∞–ª–∏</p>
                                <div class="main-section-navigation__element-img-container">
                                    <img src="/src/assets/images/main/photo-3.png" alt="—Å–∞–¥-3" />
                                    <img src="/src/assets/images/main/photo-4.png" alt="—Å–∞–¥-4" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="main-section-navigation-container animation delay1">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="main-section-navigation-icon hidden-navigation-decorative" aria-hidden="true"
                            viewBox="0 0 14 16">
                            <use href="/src/assets/icons/sprite.svg#tree"></use>
                        </svg>
                        <div class="main-section-navigation__element hidden-navigation-decorative">
                            <div class="main-section-navigation__element-title">
                                <h4>03 –°–∞–¥ –º—É–¥—Ä–æ—Å—Ç–∏</h4>
                                <img class="hidden" src="/src/assets/icons/arrow-right.svg" alt="—Å—Ç—Ä–µ–ª–∫–∞" />
                            </div>
                            <div class="hidden">
                                <p>–°–æ—Ö—Ä–∞–Ω–∏–º –∫—Ä–∞—Å–æ—Ç—É –≤–∞—à–µ–≥–æ
                                    —Å–∞–¥–∞ –Ω–∞ –¥–æ–ª–≥–∏–µ –≥–æ–¥—ã</p>
                                <div class="main-section-navigation__element-img-container">
                                    <img src="/src/assets/images/main/photo-5.png" alt="—Å–∞–¥-5" />
                                    <img src="/src/assets/images/main/photo-6.png" alt="—Å–∞–¥-6" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="button-container white-btn-bg">
                    <span>–ø–æ–¥—Ä–æ–±–Ω–µ–µ</span>
                    <img src="/src/assets/icons/arrow-right.svg" alt="—Å—Ç—Ä–µ–ª–∫–∞ –æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É" />
                </div>
            </div>
        </div>
    </section>
    <script>
        window.onload = (event) => {

            const containers = document.querySelectorAll('.main-section-navigation-container');
            const mainImg = document.querySelector('.main-section-img img');

            let activeContainer = containers[0]; // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–±—Ä–∞–Ω –ø–µ—Ä–≤—ã–π
            let previousState = new Map();

            const imageMap = {
                0: '/src/assets/images/main/tree-main1.png',
                1: '/src/assets/images/main/tree-main2.png',
                2: '/src/assets/images/main/tree-main3.png'
            };

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            containers.forEach((container, index) => {
                const togglableElements = container.querySelectorAll('.hidden, .hidden-navigation-decorative');
                togglableElements.forEach(el => {
                    previousState.set(el, {
                        hasHidden: el.classList.contains('hidden'),
                        hasDecorative: el.classList.contains('hidden-navigation-decorative')
                    });
                });
            });

            // –°—Ä–∞–∑—É —É–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å—ã —É –ø–µ—Ä–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
            if (activeContainer) {
                removeClasses(activeContainer);
                changeMainImage(imageMap[0]);
            }

            // –ù–∞–∑–Ω–∞—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
            containers.forEach((container, index) => {
                container.addEventListener('click', () => {
                    if (activeContainer && activeContainer !== container) {
                        restoreClasses(activeContainer);
                    }

                    if (activeContainer !== container) {
                        removeClasses(container);
                        activeContainer = container;
                        changeMainImage(imageMap[index]);
                    } else {
                        // –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–ª–∏–∫ ‚Äî —Å–≤–µ—Ä–Ω—É—Ç—å
                        restoreClasses(container);
                        activeContainer = null;
                        changeMainImage(imageMap[0]); // –≤–µ—Ä–Ω—ë–º –ø–µ—Ä–≤—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É
                    }
                });
            });

            function removeClasses(container) {
                const elements = container.querySelectorAll('.hidden, .hidden-navigation-decorative');
                elements.forEach(el => {
                    el.classList.remove('hidden');
                    el.classList.remove('hidden-navigation-decorative');

                    // üëá –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
                    el.classList.add('animated-fade-in');

                    // –£–¥–∞–ª–∏–º –∞–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–ª–∞—Å—Å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø–æ–∑–∂–µ)
                    el.addEventListener('animationend', () => {
                        el.classList.remove('animated-fade-in');
                    }, { once: true });
                });
            }


            function restoreClasses(container) {
                const elements = container.querySelectorAll('*');
                elements.forEach(el => {
                    const state = previousState.get(el);
                    if (state) {
                        if (state.hasHidden) el.classList.add('hidden');
                        else el.classList.remove('hidden');

                        if (state.hasDecorative) el.classList.add('hidden-navigation-decorative');
                        else el.classList.remove('hidden-navigation-decorative');
                    }
                });
            }

            function changeMainImage(newSrc) {
                if (!mainImg) return;

                // –£–¥–∞–ª–∏–º –∞–Ω–∏–º–∞—Ü–∏—é, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
                mainImg.classList.remove('animate-in');

                // –ú–∞–ª–µ–Ω—å–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ ‚Äî –∏–Ω–∞—á–µ –∞–Ω–∏–º–∞—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
                setTimeout(() => {
                    mainImg.src = newSrc;

                    // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
                    mainImg.classList.add('animate-in');
                }, 50);
            }
        }
    </script>


</body>

</html>